filebeat.inputs:
  - type: container
    paths:
      - '/var/lib/docker/containers/*/*.log'
    json.keys_under_root: true
    json.overwrite_keys: true
    json.add_error_key: true
    json.expand_keys: true
    json.message_key: message

processors:
  - add_docker_metadata:
      host: "unix:///var/run/docker.sock"

filebeat.config:
  modules:
    path: ${path.config}/modules.d/*.yml
    reload.enabled: false

output.elasticsearch:
  hosts: '${ELASTICSEARCH_HOST:es01:9200}'
  indices:
    - index: "todo-docker-%{[agent.version]}-%{+yyyy.MM.dd}"
      when.equals:


#logging.level: info
#logging.to_stderr: true
logging.json: true
logging.metrics.enabled: false
